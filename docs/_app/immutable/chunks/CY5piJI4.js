import{O as v,h as e,a as g,Q as k,ab as o,B as Y,ac as q,ad as B,s as F,D as N,ae as R,L as I,af as A,ag as H,c as p,ah as j,ai as C,p as M,aj as P,a2 as Q}from"./-0kCmqra.js";function Z(f,t,[r,i]=[0,0]){e&&r===0&&g();var a=f,s=null,c=null,l=H,D=r>0?k:0,u=!1;const L=(T,n=!0)=>{u=!0,E(n,T)},E=(T,n)=>{if(l===(l=T))return;let b=!1;if(e&&i!==-1){if(r===0){const h=o(a);h===Y?i=0:h===q?i=1/0:(i=parseInt(h.substring(1)),i!==i&&(i=l?1/0:-1))}const O=i>r;!!l===O&&(a=B(),F(a),N(!1),b=!0,i=-1)}l?(s?R(s):n&&(s=I(()=>n(a))),c&&A(c,()=>{c=null})):(c?R(c):n&&(c=I(()=>n(a,[r+1,i]))),s&&A(s,()=>{s=null})),b&&N(!0)};v(()=>{u=!1,t(L),u||E(null,null)},D),e&&(a=p)}function w(f,t,r){e&&g();var i=f,a,s;v(()=>{a!==(a=t())&&(s&&(A(s),s=null),a&&(s=I(()=>r(i,a))))},k),e&&(i=p)}function S(f,t){return f===t||(f==null?void 0:f[Q])===t}function z(f={},t,r,i){return j(()=>{var a,s;return C(()=>{a=s,s=[],M(()=>{f!==r(...s)&&(t(f,...s),a&&S(r(...a),f)&&t(null,...a))})}),()=>{P(()=>{s&&S(r(...s),f)&&t(null,...s)})}}),f}export{z as b,w as c,Z as i};
